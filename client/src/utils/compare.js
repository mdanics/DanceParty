var M = 10;

const david_tpose = {
    "pose": {
      "score": 0.7217992417076055,
      "keypoints": [
        {
          "score": 0.9966489672660828,
          "part": "nose",
          "position": {
            "x": 304.4826118677043,
            "y": 71.25142494528211
          }
        },
        {
          "score": 0.9929749965667725,
          "part": "leftEye",
          "position": {
            "x": 317.9560774866245,
            "y": 59.10027054961091
          }
        },
        {
          "score": 0.9960861206054688,
          "part": "rightEye",
          "position": {
            "x": 295.18379894212063,
            "y": 56.88125075997081
          }
        },
        {
          "score": 0.8633438348770142,
          "part": "leftEar",
          "position": {
            "x": 330.7732703064202,
            "y": 65.92142661721789
          }
        },
        {
          "score": 0.8873414397239685,
          "part": "rightEar",
          "position": {
            "x": 280.37555857855057,
            "y": 65.0168903514105
          }
        },
        {
          "score": 0.9967363476753235,
          "part": "leftShoulder",
          "position": {
            "x": 358.3483934216926,
            "y": 123.36135092412451
          }
        },
        {
          "score": 0.9886348247528076,
          "part": "rightShoulder",
          "position": {
            "x": 255.55246078550584,
            "y": 117.46458535992218
          }
        },
        {
          "score": 0.9810810685157776,
          "part": "leftElbow",
          "position": {
            "x": 424.198952760214,
            "y": 130.36788287329767
          }
        },
        {
          "score": 0.9110101461410522,
          "part": "rightElbow",
          "position": {
            "x": 176.46537572957197,
            "y": 121.02535262645915
          }
        },
        {
          "score": 0.4536157548427582,
          "part": "leftWrist",
          "position": {
            "x": 527.5549458900779,
            "y": 124.79131201361866
          }
        },
        {
          "score": 0.24932454526424408,
          "part": "rightWrist",
          "position": {
            "x": 90.6318492369893,
            "y": 140.97916540004866
          }
        },
        {
          "score": 0.9885673522949219,
          "part": "leftHip",
          "position": {
            "x": 349.3753419868677,
            "y": 301.37303927529183
          }
        },
        {
          "score": 0.9933886528015137,
          "part": "rightHip",
          "position": {
            "x": 280.4540255654183,
            "y": 293.1632265321012
          }
        },
        {
          "score": 0.46518588066101074,
          "part": "leftKnee",
          "position": {
            "x": 335.3151978964008,
            "y": 430.0664594479572
          }
        },
        {
          "score": 0.3766114115715027,
          "part": "rightKnee",
          "position": {
            "x": 312.9850133754864,
            "y": 429.2051845209144
          }
        },
        {
          "score": 0.07883210480213165,
          "part": "leftAnkle",
          "position": {
            "x": 320.0535019455253,
            "y": 508.47998236867704
          }
        },
        {
          "score": 0.051203660666942596,
          "part": "rightAnkle",
          "position": {
            "x": 314.12920643847275,
            "y": 507.9752097519455
          }
        }
      ],
      "nose": {
        "x": 304.4826118677043,
        "y": 71.25142494528211,
        "confidence": 0.9966489672660828
      },
      "leftEye": {
        "x": 317.9560774866245,
        "y": 59.10027054961091,
        "confidence": 0.9929749965667725
      },
      "rightEye": {
        "x": 295.18379894212063,
        "y": 56.88125075997081,
        "confidence": 0.9960861206054688
      },
      "leftEar": {
        "x": 330.7732703064202,
        "y": 65.92142661721789,
        "confidence": 0.8633438348770142
      },
      "rightEar": {
        "x": 280.37555857855057,
        "y": 65.0168903514105,
        "confidence": 0.8873414397239685
      },
      "leftShoulder": {
        "x": 358.3483934216926,
        "y": 123.36135092412451,
        "confidence": 0.9967363476753235
      },
      "rightShoulder": {
        "x": 255.55246078550584,
        "y": 117.46458535992218,
        "confidence": 0.9886348247528076
      },
      "leftElbow": {
        "x": 424.198952760214,
        "y": 130.36788287329767,
        "confidence": 0.9810810685157776
      },
      "rightElbow": {
        "x": 176.46537572957197,
        "y": 121.02535262645915,
        "confidence": 0.9110101461410522
      },
      "leftWrist": {
        "x": 527.5549458900779,
        "y": 124.79131201361866,
        "confidence": 0.4536157548427582
      },
      "rightWrist": {
        "x": 90.6318492369893,
        "y": 140.97916540004866,
        "confidence": 0.24932454526424408
      },
      "leftHip": {
        "x": 349.3753419868677,
        "y": 301.37303927529183,
        "confidence": 0.9885673522949219
      },
      "rightHip": {
        "x": 280.4540255654183,
        "y": 293.1632265321012,
        "confidence": 0.9933886528015137
      },
      "leftKnee": {
        "x": 335.3151978964008,
        "y": 430.0664594479572,
        "confidence": 0.46518588066101074
      },
      "rightKnee": {
        "x": 312.9850133754864,
        "y": 429.2051845209144,
        "confidence": 0.3766114115715027
      },
      "leftAnkle": {
        "x": 320.0535019455253,
        "y": 508.47998236867704,
        "confidence": 0.07883210480213165
      },
      "rightAnkle": {
        "x": 314.12920643847275,
        "y": 507.9752097519455,
        "confidence": 0.051203660666942596
      }
    },
    "skeleton": [
      [
        {
          "score": 0.9885673522949219,
          "part": "leftHip",
          "position": {
            "x": 349.3753419868677,
            "y": 301.37303927529183
          }
        },
        {
          "score": 0.9967363476753235,
          "part": "leftShoulder",
          "position": {
            "x": 358.3483934216926,
            "y": 123.36135092412451
          }
        }
      ],
      [
        {
          "score": 0.9810810685157776,
          "part": "leftElbow",
          "position": {
            "x": 424.198952760214,
            "y": 130.36788287329767
          }
        },
        {
          "score": 0.9967363476753235,
          "part": "leftShoulder",
          "position": {
            "x": 358.3483934216926,
            "y": 123.36135092412451
          }
        }
      ],
      [
        {
          "score": 0.9810810685157776,
          "part": "leftElbow",
          "position": {
            "x": 424.198952760214,
            "y": 130.36788287329767
          }
        },
        {
          "score": 0.4536157548427582,
          "part": "leftWrist",
          "position": {
            "x": 527.5549458900779,
            "y": 124.79131201361866
          }
        }
      ],
      [
        {
          "score": 0.9885673522949219,
          "part": "leftHip",
          "position": {
            "x": 349.3753419868677,
            "y": 301.37303927529183
          }
        },
        {
          "score": 0.46518588066101074,
          "part": "leftKnee",
          "position": {
            "x": 335.3151978964008,
            "y": 430.0664594479572
          }
        }
      ],
      [
        {
          "score": 0.9933886528015137,
          "part": "rightHip",
          "position": {
            "x": 280.4540255654183,
            "y": 293.1632265321012
          }
        },
        {
          "score": 0.9886348247528076,
          "part": "rightShoulder",
          "position": {
            "x": 255.55246078550584,
            "y": 117.46458535992218
          }
        }
      ],
      [
        {
          "score": 0.9110101461410522,
          "part": "rightElbow",
          "position": {
            "x": 176.46537572957197,
            "y": 121.02535262645915
          }
        },
        {
          "score": 0.9886348247528076,
          "part": "rightShoulder",
          "position": {
            "x": 255.55246078550584,
            "y": 117.46458535992218
          }
        }
      ],
      [
        {
          "score": 0.9110101461410522,
          "part": "rightElbow",
          "position": {
            "x": 176.46537572957197,
            "y": 121.02535262645915
          }
        },
        {
          "score": 0.24932454526424408,
          "part": "rightWrist",
          "position": {
            "x": 90.6318492369893,
            "y": 140.97916540004866
          }
        }
      ],
      [
        {
          "score": 0.9933886528015137,
          "part": "rightHip",
          "position": {
            "x": 280.4540255654183,
            "y": 293.1632265321012
          }
        },
        {
          "score": 0.3766114115715027,
          "part": "rightKnee",
          "position": {
            "x": 312.9850133754864,
            "y": 429.2051845209144
          }
        }
      ],
      [
        {
          "score": 0.9967363476753235,
          "part": "leftShoulder",
          "position": {
            "x": 358.3483934216926,
            "y": 123.36135092412451
          }
        },
        {
          "score": 0.9886348247528076,
          "part": "rightShoulder",
          "position": {
            "x": 255.55246078550584,
            "y": 117.46458535992218
          }
        }
      ],
      [
        {
          "score": 0.9885673522949219,
          "part": "leftHip",
          "position": {
            "x": 349.3753419868677,
            "y": 301.37303927529183
          }
        },
        {
          "score": 0.9933886528015137,
          "part": "rightHip",
          "position": {
            "x": 280.4540255654183,
            "y": 293.1632265321012
          }
        }
      ]
    ]
  }
const matt_tpose = {
    "pose": {
      "score": 0.7694781817057553,
      "keypoints": [
        {
          "score": 0.9952451586723328,
          "part": "nose",
          "position": {
            "x": 367.7409487475681,
            "y": 149.8973849404183
          }
        },
        {
          "score": 0.9945691227912903,
          "part": "leftEye",
          "position": {
            "x": 374.7501595938716,
            "y": 148.04054824294747
          }
        },
        {
          "score": 0.9876965880393982,
          "part": "rightEye",
          "position": {
            "x": 358.67753678258754,
            "y": 142.74858645428014
          }
        },
        {
          "score": 0.8189582228660583,
          "part": "leftEar",
          "position": {
            "x": 383.9375227991245,
            "y": 146.1901902966926
          }
        },
        {
          "score": 0.8732965588569641,
          "part": "rightEar",
          "position": {
            "x": 339.41307453793775,
            "y": 147.3812355605545
          }
        },
        {
          "score": 0.9939855337142944,
          "part": "leftShoulder",
          "position": {
            "x": 406.21773923881324,
            "y": 186.14314810311282
          }
        },
        {
          "score": 0.989337682723999,
          "part": "rightShoulder",
          "position": {
            "x": 327.7700556298638,
            "y": 187.7983265442607
          }
        },
        {
          "score": 0.8448629379272461,
          "part": "leftElbow",
          "position": {
            "x": 451.18308456955253,
            "y": 182.02524623054472
          }
        },
        {
          "score": 0.9518409967422485,
          "part": "rightElbow",
          "position": {
            "x": 272.65987886065176,
            "y": 183.3976775291829
          }
        },
        {
          "score": 0.5127924680709839,
          "part": "leftWrist",
          "position": {
            "x": 451.655672422179,
            "y": 160.313164974465
          }
        },
        {
          "score": 0.639374315738678,
          "part": "rightWrist",
          "position": {
            "x": 252.66164579280155,
            "y": 184.97229906371598
          }
        },
        {
          "score": 0.9923502206802368,
          "part": "leftHip",
          "position": {
            "x": 402.18548607733464,
            "y": 302.7686496838521
          }
        },
        {
          "score": 0.9862912893295288,
          "part": "rightHip",
          "position": {
            "x": 351.0354982368677,
            "y": 306.90745075389106
          }
        },
        {
          "score": 0.5956748127937317,
          "part": "leftKnee",
          "position": {
            "x": 399.2398391901751,
            "y": 391.43588886186774
          }
        },
        {
          "score": 0.5969030261039734,
          "part": "rightKnee",
          "position": {
            "x": 361.836203489786,
            "y": 391.91543044747084
          }
        },
        {
          "score": 0.15032371878623962,
          "part": "leftAnkle",
          "position": {
            "x": 378.35800705252916,
            "y": 459.0478705617704
          }
        },
        {
          "score": 0.1576264351606369,
          "part": "rightAnkle",
          "position": {
            "x": 369.58706985651753,
            "y": 458.6885563594358
          }
        }
      ],
      "nose": {
        "x": 367.7409487475681,
        "y": 149.8973849404183,
        "confidence": 0.9952451586723328
      },
      "leftEye": {
        "x": 374.7501595938716,
        "y": 148.04054824294747,
        "confidence": 0.9945691227912903
      },
      "rightEye": {
        "x": 358.67753678258754,
        "y": 142.74858645428014,
        "confidence": 0.9876965880393982
      },
      "leftEar": {
        "x": 383.9375227991245,
        "y": 146.1901902966926,
        "confidence": 0.8189582228660583
      },
      "rightEar": {
        "x": 339.41307453793775,
        "y": 147.3812355605545,
        "confidence": 0.8732965588569641
      },
      "leftShoulder": {
        "x": 406.21773923881324,
        "y": 186.14314810311282,
        "confidence": 0.9939855337142944
      },
      "rightShoulder": {
        "x": 327.7700556298638,
        "y": 187.7983265442607,
        "confidence": 0.989337682723999
      },
      "leftElbow": {
        "x": 451.18308456955253,
        "y": 182.02524623054472,
        "confidence": 0.8448629379272461
      },
      "rightElbow": {
        "x": 272.65987886065176,
        "y": 183.3976775291829,
        "confidence": 0.9518409967422485
      },
      "leftWrist": {
        "x": 451.655672422179,
        "y": 160.313164974465,
        "confidence": 0.5127924680709839
      },
      "rightWrist": {
        "x": 252.66164579280155,
        "y": 184.97229906371598,
        "confidence": 0.639374315738678
      },
      "leftHip": {
        "x": 402.18548607733464,
        "y": 302.7686496838521,
        "confidence": 0.9923502206802368
      },
      "rightHip": {
        "x": 351.0354982368677,
        "y": 306.90745075389106,
        "confidence": 0.9862912893295288
      },
      "leftKnee": {
        "x": 399.2398391901751,
        "y": 391.43588886186774,
        "confidence": 0.5956748127937317
      },
      "rightKnee": {
        "x": 361.836203489786,
        "y": 391.91543044747084,
        "confidence": 0.5969030261039734
      },
      "leftAnkle": {
        "x": 378.35800705252916,
        "y": 459.0478705617704,
        "confidence": 0.15032371878623962
      },
      "rightAnkle": {
        "x": 369.58706985651753,
        "y": 458.6885563594358,
        "confidence": 0.1576264351606369
      }
    },
    "skeleton": [
      [
        {
          "score": 0.9923502206802368,
          "part": "leftHip",
          "position": {
            "x": 402.18548607733464,
            "y": 302.7686496838521
          }
        },
        {
          "score": 0.9939855337142944,
          "part": "leftShoulder",
          "position": {
            "x": 406.21773923881324,
            "y": 186.14314810311282
          }
        }
      ],
      [
        {
          "score": 0.8448629379272461,
          "part": "leftElbow",
          "position": {
            "x": 451.18308456955253,
            "y": 182.02524623054472
          }
        },
        {
          "score": 0.9939855337142944,
          "part": "leftShoulder",
          "position": {
            "x": 406.21773923881324,
            "y": 186.14314810311282
          }
        }
      ],
      [
        {
          "score": 0.8448629379272461,
          "part": "leftElbow",
          "position": {
            "x": 451.18308456955253,
            "y": 182.02524623054472
          }
        },
        {
          "score": 0.5127924680709839,
          "part": "leftWrist",
          "position": {
            "x": 451.655672422179,
            "y": 160.313164974465
          }
        }
      ],
      [
        {
          "score": 0.9923502206802368,
          "part": "leftHip",
          "position": {
            "x": 402.18548607733464,
            "y": 302.7686496838521
          }
        },
        {
          "score": 0.5956748127937317,
          "part": "leftKnee",
          "position": {
            "x": 399.2398391901751,
            "y": 391.43588886186774
          }
        }
      ],
      [
        {
          "score": 0.5956748127937317,
          "part": "leftKnee",
          "position": {
            "x": 399.2398391901751,
            "y": 391.43588886186774
          }
        },
        {
          "score": 0.15032371878623962,
          "part": "leftAnkle",
          "position": {
            "x": 378.35800705252916,
            "y": 459.0478705617704
          }
        }
      ],
      [
        {
          "score": 0.9862912893295288,
          "part": "rightHip",
          "position": {
            "x": 351.0354982368677,
            "y": 306.90745075389106
          }
        },
        {
          "score": 0.989337682723999,
          "part": "rightShoulder",
          "position": {
            "x": 327.7700556298638,
            "y": 187.7983265442607
          }
        }
      ],
      [
        {
          "score": 0.9518409967422485,
          "part": "rightElbow",
          "position": {
            "x": 272.65987886065176,
            "y": 183.3976775291829
          }
        },
        {
          "score": 0.989337682723999,
          "part": "rightShoulder",
          "position": {
            "x": 327.7700556298638,
            "y": 187.7983265442607
          }
        }
      ],
      [
        {
          "score": 0.9518409967422485,
          "part": "rightElbow",
          "position": {
            "x": 272.65987886065176,
            "y": 183.3976775291829
          }
        },
        {
          "score": 0.639374315738678,
          "part": "rightWrist",
          "position": {
            "x": 252.66164579280155,
            "y": 184.97229906371598
          }
        }
      ],
      [
        {
          "score": 0.9862912893295288,
          "part": "rightHip",
          "position": {
            "x": 351.0354982368677,
            "y": 306.90745075389106
          }
        },
        {
          "score": 0.5969030261039734,
          "part": "rightKnee",
          "position": {
            "x": 361.836203489786,
            "y": 391.91543044747084
          }
        }
      ],
      [
        {
          "score": 0.5969030261039734,
          "part": "rightKnee",
          "position": {
            "x": 361.836203489786,
            "y": 391.91543044747084
          }
        },
        {
          "score": 0.1576264351606369,
          "part": "rightAnkle",
          "position": {
            "x": 369.58706985651753,
            "y": 458.6885563594358
          }
        }
      ],
      [
        {
          "score": 0.9939855337142944,
          "part": "leftShoulder",
          "position": {
            "x": 406.21773923881324,
            "y": 186.14314810311282
          }
        },
        {
          "score": 0.989337682723999,
          "part": "rightShoulder",
          "position": {
            "x": 327.7700556298638,
            "y": 187.7983265442607
          }
        }
      ],
      [
        {
          "score": 0.9923502206802368,
          "part": "leftHip",
          "position": {
            "x": 402.18548607733464,
            "y": 302.7686496838521
          }
        },
        {
          "score": 0.9862912893295288,
          "part": "rightHip",
          "position": {
            "x": 351.0354982368677,
            "y": 306.90745075389106
          }
        }
      ]
    ]
  }
const matt_w = {
    "pose": {
      "score": 0.8556436563239378,
      "keypoints": [
        {
          "score": 0.9955713748931885,
          "part": "nose",
          "position": {
            "x": 407.90878830252916,
            "y": 142.59693427772373
          }
        },
        {
          "score": 0.9923370480537415,
          "part": "leftEye",
          "position": {
            "x": 414.6078170598249,
            "y": 134.8938890746595
          }
        },
        {
          "score": 0.9880120754241943,
          "part": "rightEye",
          "position": {
            "x": 397.4154152480545,
            "y": 134.74609375
          }
        },
        {
          "score": 0.7439051270484924,
          "part": "leftEar",
          "position": {
            "x": 430.30372233706225,
            "y": 138.6416281614786
          }
        },
        {
          "score": 0.8775931596755981,
          "part": "rightEar",
          "position": {
            "x": 389.18595725924126,
            "y": 141.36749148832683
          }
        },
        {
          "score": 0.995134174823761,
          "part": "leftShoulder",
          "position": {
            "x": 450.8445175705253,
            "y": 174.38011080374514
          }
        },
        {
          "score": 0.9942903518676758,
          "part": "rightShoulder",
          "position": {
            "x": 374.10452638618676,
            "y": 177.290438047179
          }
        },
        {
          "score": 0.9873003959655762,
          "part": "leftElbow",
          "position": {
            "x": 509.1707958414397,
            "y": 208.87896704766536
          }
        },
        {
          "score": 0.9875602126121521,
          "part": "rightElbow",
          "position": {
            "x": 333.10242886673154,
            "y": 212.39903787694556
          }
        },
        {
          "score": 0.9694329500198364,
          "part": "leftWrist",
          "position": {
            "x": 485.86841865272373,
            "y": 165.586336484679
          }
        },
        {
          "score": 0.9476149678230286,
          "part": "rightWrist",
          "position": {
            "x": 333.35310524075874,
            "y": 190.5567546206226
          }
        },
        {
          "score": 0.9972811341285706,
          "part": "leftHip",
          "position": {
            "x": 445.49835086332683,
            "y": 303.20897677529183
          }
        },
        {
          "score": 0.994708776473999,
          "part": "rightHip",
          "position": {
            "x": 393.2177924367704,
            "y": 304.5321999635214
          }
        },
        {
          "score": 0.7709422707557678,
          "part": "leftKnee",
          "position": {
            "x": 432.3153270914397,
            "y": 407.64747233706225
          }
        },
        {
          "score": 0.7421786785125732,
          "part": "rightKnee",
          "position": {
            "x": 410.76130076605057,
            "y": 407.6092458049611
          }
        },
        {
          "score": 0.28246867656707764,
          "part": "leftAnkle",
          "position": {
            "x": 411.33409077091443,
            "y": 467.20934916099225
          }
        },
        {
          "score": 0.2796107828617096,
          "part": "rightAnkle",
          "position": {
            "x": 412.534578672179,
            "y": 467.50334387159535
          }
        }
      ],
      "nose": {
        "x": 407.90878830252916,
        "y": 142.59693427772373,
        "confidence": 0.9955713748931885
      },
      "leftEye": {
        "x": 414.6078170598249,
        "y": 134.8938890746595,
        "confidence": 0.9923370480537415
      },
      "rightEye": {
        "x": 397.4154152480545,
        "y": 134.74609375,
        "confidence": 0.9880120754241943
      },
      "leftEar": {
        "x": 430.30372233706225,
        "y": 138.6416281614786,
        "confidence": 0.7439051270484924
      },
      "rightEar": {
        "x": 389.18595725924126,
        "y": 141.36749148832683,
        "confidence": 0.8775931596755981
      },
      "leftShoulder": {
        "x": 450.8445175705253,
        "y": 174.38011080374514,
        "confidence": 0.995134174823761
      },
      "rightShoulder": {
        "x": 374.10452638618676,
        "y": 177.290438047179,
        "confidence": 0.9942903518676758
      },
      "leftElbow": {
        "x": 509.1707958414397,
        "y": 208.87896704766536,
        "confidence": 0.9873003959655762
      },
      "rightElbow": {
        "x": 333.10242886673154,
        "y": 212.39903787694556,
        "confidence": 0.9875602126121521
      },
      "leftWrist": {
        "x": 485.86841865272373,
        "y": 165.586336484679,
        "confidence": 0.9694329500198364
      },
      "rightWrist": {
        "x": 333.35310524075874,
        "y": 190.5567546206226,
        "confidence": 0.9476149678230286
      },
      "leftHip": {
        "x": 445.49835086332683,
        "y": 303.20897677529183,
        "confidence": 0.9972811341285706
      },
      "rightHip": {
        "x": 393.2177924367704,
        "y": 304.5321999635214,
        "confidence": 0.994708776473999
      },
      "leftKnee": {
        "x": 432.3153270914397,
        "y": 407.64747233706225,
        "confidence": 0.7709422707557678
      },
      "rightKnee": {
        "x": 410.76130076605057,
        "y": 407.6092458049611,
        "confidence": 0.7421786785125732
      },
      "leftAnkle": {
        "x": 411.33409077091443,
        "y": 467.20934916099225,
        "confidence": 0.28246867656707764
      },
      "rightAnkle": {
        "x": 412.534578672179,
        "y": 467.50334387159535,
        "confidence": 0.2796107828617096
      }
    },
    "skeleton": [
      [
        {
          "score": 0.9972811341285706,
          "part": "leftHip",
          "position": {
            "x": 445.49835086332683,
            "y": 303.20897677529183
          }
        },
        {
          "score": 0.995134174823761,
          "part": "leftShoulder",
          "position": {
            "x": 450.8445175705253,
            "y": 174.38011080374514
          }
        }
      ],
      [
        {
          "score": 0.9873003959655762,
          "part": "leftElbow",
          "position": {
            "x": 509.1707958414397,
            "y": 208.87896704766536
          }
        },
        {
          "score": 0.995134174823761,
          "part": "leftShoulder",
          "position": {
            "x": 450.8445175705253,
            "y": 174.38011080374514
          }
        }
      ],
      [
        {
          "score": 0.9873003959655762,
          "part": "leftElbow",
          "position": {
            "x": 509.1707958414397,
            "y": 208.87896704766536
          }
        },
        {
          "score": 0.9694329500198364,
          "part": "leftWrist",
          "position": {
            "x": 485.86841865272373,
            "y": 165.586336484679
          }
        }
      ],
      [
        {
          "score": 0.9972811341285706,
          "part": "leftHip",
          "position": {
            "x": 445.49835086332683,
            "y": 303.20897677529183
          }
        },
        {
          "score": 0.7709422707557678,
          "part": "leftKnee",
          "position": {
            "x": 432.3153270914397,
            "y": 407.64747233706225
          }
        }
      ],
      [
        {
          "score": 0.7709422707557678,
          "part": "leftKnee",
          "position": {
            "x": 432.3153270914397,
            "y": 407.64747233706225
          }
        },
        {
          "score": 0.28246867656707764,
          "part": "leftAnkle",
          "position": {
            "x": 411.33409077091443,
            "y": 467.20934916099225
          }
        }
      ],
      [
        {
          "score": 0.994708776473999,
          "part": "rightHip",
          "position": {
            "x": 393.2177924367704,
            "y": 304.5321999635214
          }
        },
        {
          "score": 0.9942903518676758,
          "part": "rightShoulder",
          "position": {
            "x": 374.10452638618676,
            "y": 177.290438047179
          }
        }
      ],
      [
        {
          "score": 0.9875602126121521,
          "part": "rightElbow",
          "position": {
            "x": 333.10242886673154,
            "y": 212.39903787694556
          }
        },
        {
          "score": 0.9942903518676758,
          "part": "rightShoulder",
          "position": {
            "x": 374.10452638618676,
            "y": 177.290438047179
          }
        }
      ],
      [
        {
          "score": 0.9875602126121521,
          "part": "rightElbow",
          "position": {
            "x": 333.10242886673154,
            "y": 212.39903787694556
          }
        },
        {
          "score": 0.9476149678230286,
          "part": "rightWrist",
          "position": {
            "x": 333.35310524075874,
            "y": 190.5567546206226
          }
        }
      ],
      [
        {
          "score": 0.994708776473999,
          "part": "rightHip",
          "position": {
            "x": 393.2177924367704,
            "y": 304.5321999635214
          }
        },
        {
          "score": 0.7421786785125732,
          "part": "rightKnee",
          "position": {
            "x": 410.76130076605057,
            "y": 407.6092458049611
          }
        }
      ],
      [
        {
          "score": 0.7421786785125732,
          "part": "rightKnee",
          "position": {
            "x": 410.76130076605057,
            "y": 407.6092458049611
          }
        },
        {
          "score": 0.2796107828617096,
          "part": "rightAnkle",
          "position": {
            "x": 412.534578672179,
            "y": 467.50334387159535
          }
        }
      ],
      [
        {
          "score": 0.995134174823761,
          "part": "leftShoulder",
          "position": {
            "x": 450.8445175705253,
            "y": 174.38011080374514
          }
        },
        {
          "score": 0.9942903518676758,
          "part": "rightShoulder",
          "position": {
            "x": 374.10452638618676,
            "y": 177.290438047179
          }
        }
      ],
      [
        {
          "score": 0.9972811341285706,
          "part": "leftHip",
          "position": {
            "x": 445.49835086332683,
            "y": 303.20897677529183
          }
        },
        {
          "score": 0.994708776473999,
          "part": "rightHip",
          "position": {
            "x": 393.2177924367704,
            "y": 304.5321999635214
          }
        }
      ]
    ]
  }

var mp = {'nose': 0, 'leftEye': 1, 'rightEye': 2, 'leftEar': 3, 'rightEar': 4, 'leftShoulder': 5, 'rightShoulder': 6, 'leftElbow': 7, 'rightElbow': 8, 
'leftWrist': 9, 'rightWrist': 10, 'leftHip': 11, 'rightHip': 12, 'leftKnee': 13, 'rightKnee': 14, 'leftAnkle': 15, 'rightAnkle': 16}

function datapts(person, data){
    for (let j = 0; j < person.length; j++){
        data.push([person[j]['position']['x'], person[j]['position']['y']]);
    }
}

function radians_to_degrees(radians)
{
  var pi = Math.PI;
  return radians * (180/pi);
}

var hw = 0.6;
var sw = 0.2;
var lw = 0.2;

function compare(d1, d2, t){
    var v1 = hands(d1[mp['rightShoulder']], d1[mp['rightElbow']], d1[mp['rightWrist']],  d2[mp['rightShoulder']], d2[mp['rightElbow']], d2[mp['rightWrist']], t);
    var v2 = hands(d1[mp['leftShoulder']], d1[mp['leftElbow']], d1[mp['leftWrist']],  d2[mp['leftShoulder']], d2[mp['leftElbow']], d2[mp['leftWrist']], t);
    var v3 = shoulder(d1[mp['leftShoulder']], d1[mp['rightShoulder']], d2[mp['leftShoulder']],  d2[mp['rightShoulder']], t);
    var v4 = leg(d1[mp['leftHip']], d1[mp['leftKnee']], d1[mp['leftAnkle']],  d2[mp['leftHip']], d2[mp['leftKnee']], d2[mp['leftAnkle']], t);
    var v5 = leg(d1[mp['rightHip']], d1[mp['rightKnee']], d1[mp['rightAnkle']],  d2[mp['rightHip']], d2[mp['rightKnee']], d2[mp['rightAnkle']], t);
    return (((v1 + v2) / 4) * hw) + (v3 * sw) + (((v4 + v5) / 4) * lw);
}

function deg(x1, y1, x2, y2){
    var x = x2 - x1;
    var y = y2 - y1;
    if (x >= 0 & y >= 0){
        return radians_to_degrees(Math.atan(Math.abs(y) / Math.abs(x)));
    } else if (x <= 0 & y >= 0){
        return 180 - radians_to_degrees(Math.atan(Math.abs(y) / Math.abs(x)));
    } else if (x >= 0 & y <= 0){
        return 360 - radians_to_degrees(Math.atan(Math.abs(y) / Math.abs(x)));
    } else if (x <= 0 & y <= 0){
        return 180 + radians_to_degrees(Math.atan(Math.abs(y) / Math.abs(x)));
    }
}

function cmp(p1, p2, p3, p4, t){
    var x1 = p1[0];
    var y1 = p1[1];
    var x2 = p2[0];
    var y2 = p2[1];
    var x3 = p3[0];
    var y3 = p3[1];
    var x4 = p4[0];
    var y4 = p4[1];
    var deg1 = deg(x1, y1, x2, y2);
    var deg2 = deg(x3, y3, x4, y4);
    if (0 <= deg1 <= t || 360 - t <= deg1 <= 360){
        if (deg1 <= 100 & deg2 >= 300){
            deg2 = deg2 - 360;
        } else if (deg1 >= 300 & deg2 <= 100){
            deg2 = deg2 + 360;
        }
    }

    var val = (Math.max(0, t - Math.abs((deg2 - deg1)))) / t;
    return val;
}

function hands(ls1, e1, h1, ls2, e2, h2, t){
    return cmp(ls1, e1, ls2, e2, t) + cmp(e1, h1, e2, h2, t);
}

function shoulder(ls1, rs1, ls2, rs2, t){
    return cmp(ls1, rs1, ls2, rs2, t);
}

function leg(hp1, k1, l1, hp2, k2, l2, t){
    return cmp(hp1, k1, hp2, k2, t) + cmp(k1, l1, k2, l2, t);
}

function score(host, client){
    var i;
    let res = 0;
    for (i = 0; i < host.length; i++){
        res = Math.max(compare(host[i], client), res);
    }
    return res;
}

export default function getScore(json1, json2, t){
    var lst1 = [];
    var lst2 = [];
    var p1 = json1['pose']['keypoints'];
    var p2 = json2['pose']['keypoints'];
    datapts(p1, lst1);
    datapts(p2, lst2);
    document.write(lst1.length);
    document.write(lst2.length);
    return compare(lst1, lst2, 30);
}

document.write(getScore(david_tpose, matt_tpose, 30));
